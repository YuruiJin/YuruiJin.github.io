---
layout: post
title: 包含代码的文章
date: 2015-07-15 15:09:00
description: 一篇包含代码示例的博客文章
tags: 格式 代码
categories: sample-posts
featured: true
---

本主题实现了 Jekyll 内置的代码高亮功能，使用 Rouge 进行语法高亮。
它支持超过 100 种编程语言。
以下示例使用 C++ 语言。
只需将代码包裹在 markdown 代码标签中即可：

````markdown
```c++
code code code
```
````

```c++
int main(int argc, char const \*argv[])
{
    string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;
}
```

如需在列表项中显示代码，需要注意缩进问题，详见[此 FAQ](https://github.com/planetjekyll/quickrefs/blob/master/FAQ.md#q-how-can-i-get-backtick-fenced-code-blocks-eg--working-inside-lists-with-kramdown)。代码必须缩进 **(3 \* bullet_indent_level)** 个空格。这是因为 kramdown（Jekyll 使用的 Markdown 引擎）中列表内代码块的缩进由列表项标记后第一个非空格字符的列位置决定。例如：

````markdown
1. 我们也可以在嵌套列表中使用代码块。
   1. 像这样：

      ```c
      printf("Hello, World!");
      ```

   2. 关键在于将代码块缩进到与该行第一个字符对齐的位置。
````

显示效果如下：

1. 我们也可以在嵌套列表中使用代码块。
   1. 像这样：

      ```c
      printf("Hello, World!");
      ```

   2. 关键在于将代码块缩进到与该行第一个字符对齐的位置。

默认情况下不显示行号。如果希望为所有代码块显示行号，可以在 `_config.yml` 中将 `kramdown.syntax_highlighter_opts.block.line_numbers` 设置为 true。

如果只想为特定代码块显示行号，只需将代码包裹在 liquid 标签中：

{% raw %}
{% highlight c++ linenos %} <br/> code code code <br/> {% endhighlight %}
{% endraw %}

关键字 `linenos` 用于触发行号显示。
效果如下：

{% highlight c++ linenos %}

int main(int argc, char const \*argv[])
{
string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;

}

{% endhighlight %}
