---
layout: post
title: 带有代码的文章
date: 2015-07-15 15:09:00
description: 带有代码的博客文章示例
tags: formatting code
categories: sample-posts
featured: true
---

本主题使用 Jekyll 内置功能 Rouge 实现语法高亮。
它支持超过 100 种语言。
本示例使用 C++。
您只需将代码用 markdown 代码标签包裹即可：

````markdown
```c++
code code code
```
````

```c++
int main(int argc, char const \*argv[])
{
    string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;
}
```

要在列表项中显示代码，您需要注意缩进，如 [此 FAQ](https://github.com/planetjekyll/quickrefs/blob/master/FAQ.md#q-how-can-i-get-backtick-fenced-code-blocks-eg--working-inside-lists-with-kramdown) 中所述。您必须用 **（3 \* bullet_indent_level）** 个空格缩进代码。这是因为 kramdown（Jekyll 使用的 markdown 引擎）中列表内代码块的缩进取决于列表项标记后第一个非空格字符的列号。例如：

````markdown
1. We can put fenced code blocks inside nested bullets, too.
   1. Like this:

      ```c
      printf("Hello, World!");
      ```

   2. The key is to indent your fenced block in the same line as the first character of the line.
````

显示效果为：

1. 我们也可以在嵌套项目符号中放置代码块。
   1. 就像这样：

      ```c
      printf("Hello, World!");
      ```

   2. 关键是要将代码块缩进到与该行第一个字符相同的位置。

默认情况下，它不会显示行号。如果您想为每个代码块显示行号，可以在 `_config.yml` 文件中将 `kramdown.syntax_highlighter_opts.block.line_numbers` 设置为 true。

如果您想为特定的代码块显示行号，只需将代码用 liquid 标签包裹即可：

{% raw %}
{% highlight c++ linenos %} <br/> code code code <br/> {% endhighlight %}
{% endraw %}

关键字 `linenos` 触发行号显示。
产生的效果类似于：

{% highlight c++ linenos %}

int main(int argc, char const \*argv[])
{
string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;

}

{% endhighlight %}
